if (self.CavalryLogger) { CavalryLogger.start_js(["AoyP3"]); }

__d("FBRTCMessageHandler",["Bootloader","FBRTCExperiment","FBRTCMessageListener","MessengerRTCMessageHandler"],(function(a,b,c,d,e,f){var g=!1,h=!1,i=!1,j={init:function(){if(b("FBRTCExperiment").getIncomingCallExperiments().getBool("use_messenger_on_fb",!1)){b("MessengerRTCMessageHandler").init();return}j.initInternal()},initInternal:function(){h===!1&&(h=!0,b("FBRTCMessageListener").init(!1),b("FBRTCMessageListener").listenOnce("messageReceived",function(a){j.initIncomingCallController()}),b("FBRTCMessageListener").listenOnce("multiwayMessageReceived",function(a){k(a)}))},initIncomingCallController:function(){g||(g=!0,b("Bootloader").loadModules(["FBRTCIncomingCallController","FBRTCIncomingCallDialog","FBRTCMissedVideoCallHandler","FBRTCUnsupportedBrowserMessage"],function(a,c,d,e){b("FBRTCExperiment").getIncomingCallExperiments().logExposure();var f=new a(c,e,new d());b("FBRTCMessageListener").setMessageHandler(function(a){f.onMessageReceived(a)})},"FBRTCMessageHandler"))}};function k(a){i||(i=!0,b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","FBRTCGroupCallIncomingDialog"],function(c,d){b("FBRTCExperiment").getIncomingCallExperiments().logExposure();var e=new c(d,!0);b("FBRTCMessageListener").setMultiwayMessageHandler(function(a){e.onMessageReceived(a)});e.onMessageReceived(a)},"FBRTCMessageHandler"))}e.exports=j}),null);
__d("FalcoBladeRunnerTransport",[],(function(a,b,c,d,e,f){"use strict";function g(a){return JSON.stringify(a)}function h(a){a={name:a.name,extra:a.extra,rate:a.rate,time:a.time/1e3};return{events:[a]}}a=function(){function a(a,b){var c=this;this.$1=a;b.start(function(a){c.$2(a)})}var b=a.prototype;b.$2=function(a){};b.log=function(a){this.$1.amendFireAndForget(g(h(a)))};b.logImmediately=function(a){this.log(a)};b.logCritical=function(a){this.log(a)};return a}();e.exports=a}),null);