if (self.CavalryLogger) { CavalryLogger.start_js(["dDy6i"]); }

__d("CreateGroupCrosspostedLivingRoomPostMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CreateGroupCrosspostedLivingRoomPostMutation",selections:[{alias:null,args:b,concreteType:"CreateGroupCrosspostedLivingRoomPostResponsePayload",kind:"LinkedField",name:"create_group_crossposted_living_room_post",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"living_room",plural:!1,selections:[c],storageKey:null},d],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CreateGroupCrosspostedLivingRoomPostMutation",selections:[{alias:null,args:b,concreteType:"CreateGroupCrosspostedLivingRoomPostResponsePayload",kind:"LinkedField",name:"create_group_crossposted_living_room_post",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"living_room",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c],storageKey:null},d],storageKey:null}]},params:{id:"2271477466315115",metadata:{},name:"CreateGroupCrosspostedLivingRoomPostMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CreateLivingRoomPostMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CreateLivingRoomPostMutation",selections:[{alias:null,args:b,concreteType:"CreateLivingRoomPostResponsePayload",kind:"LinkedField",name:"create_living_room_post",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"living_room",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CreateLivingRoomPostMutation",selections:[{alias:null,args:b,concreteType:"CreateLivingRoomPostResponsePayload",kind:"LinkedField",name:"create_living_room_post",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"living_room",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c],storageKey:null}],storageKey:null}]},params:{id:"2046863672048005",metadata:{},name:"CreateLivingRoomPostMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("LivingRoomShareSheetAttachmentVideoCollectionQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"creationSource"},b={defaultValue:null,kind:"LocalArgument",name:"queuedVideoIDs"},c=[{kind:"Variable",name:"creation_source",variableName:"creationSource"},{kind:"Variable",name:"video_ids",variableName:"queuedVideoIDs"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},i=[h];i={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,{kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_show_page",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo_for_show",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[g],type:"User",abstractKey:null}],storageKey:null};g={alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null};var j={alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"play_count",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null};h=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},h];var o={alias:null,args:[{kind:"Literal",name:"height",value:160},{kind:"Literal",name:"width",value:284}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:"image(height:160,width:284)"},p={alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"pre_roll_ad_break",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_preroll_living_room",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_commentating",storageKey:null};h={alias:"attachment_image",args:[{kind:"Literal",name:"width",value:628}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:"image(width:628)"};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"LivingRoomShareSheetAttachmentVideoCollectionQuery",selections:[{alias:null,args:c,concreteType:"LivingRoomVideoCollection",kind:"LinkedField",name:"living_room_video_collection",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!0,selections:[d,e,f,i,g,j,k,l,m,n,o,{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[o],storageKey:null},p,q,r,h],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"LivingRoomShareSheetAttachmentVideoCollectionQuery",selections:[{alias:null,args:c,concreteType:"LivingRoomVideoCollection",kind:"LinkedField",name:"living_room_video_collection",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!0,selections:[d,e,f,i,g,j,k,l,m,n,o,{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[o,d],storageKey:null},p,q,r,h],storageKey:null}],storageKey:null}]},params:{id:"2929806633718417",metadata:{},name:"LivingRoomShareSheetAttachmentVideoCollectionQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CreateGroupCrosspostedLivingRoomPostMutation",["LivingRoomTypeUtils","RelayFBEnvironment","RelayModern","CreateGroupCrosspostedLivingRoomPostMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomTypeUtils").convertConfigType,i=b("LivingRoomTypeUtils").convertCreationSource,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CreateGroupCrosspostedLivingRoomPostMutation.graphql");function a(a,c,d){a=babelHelpers["extends"]({},a,{creation_source:i(a.creation_source),config_type:h(a.config_type)});return j(b("RelayFBEnvironment"),{mutation:k,variables:{input:a},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("CreateLivingRoomPostMutation",["LivingRoomTypeUtils","RelayFBEnvironment","RelayModern","CreateLivingRoomPostMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("LivingRoomTypeUtils").convertConfigType,i=b("LivingRoomTypeUtils").convertCreationSource,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CreateLivingRoomPostMutation.graphql");function a(a,c,d){a=babelHelpers["extends"]({},a,{creation_source:i(a.creation_source),config_type:h(a.config_type)});return j(b("RelayFBEnvironment"),{mutation:k,variables:{input:a},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("XGroupsShareActorListController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/share/actors/",{target_id:{type:"Int"}})}),null);
__d("GroupShareActorSelector.react",["ActorSelector.react","AsyncRequest","React","XGroupsShareActorListController","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={actorIDs:[],loading:!0,selectedActorID:null},c.$1=!1,c.$3=function(a){c.setState({selectedActorID:a.value}),c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.targetID&&this.$2()};d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){return this.props.targetID===null||!this.state.actorIDs||!this.state.selectedActorID||this.state.actorIDs.length===1?g.jsx("div",{}):g.jsx(b("ActorSelector.react"),{actorIDs:this.state.actorIDs,coverEnabled:!1,loading:this.state.loading,onChange:this.$3,ref:"selector",selectedActorID:this.state.selectedActorID,suppressed:!0})};d.componentDidUpdate=function(a){this.props.targetID&&this.props.targetID!==a.targetID&&this.$2()};d.$2=function(){var a=this;this.setState({loading:!0,selectedActorID:this.props.defaultActorID});var c=b("XGroupsShareActorListController").getURIBuilder().setInt("target_id",this.props.targetID).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(b){if(a.$1){b=b.getPayload().actorIDs;var c=a.props.defaultActorID?a.props.defaultActorID:b?b[0]:null;a.setState({actorIDs:b,loading:!1,selectedActorID:c});a.props.onChange({value:c})}}).send()};return c}(g.Component);a.propTypes={defaultActorID:b("prop-types").string.isRequired,onChange:b("prop-types").func.isRequired,targetID:b("prop-types").string};e.exports=a}),null);
__d("ShareDialogAudienceTypeahead.react",["cx","Grid.react","React","SearchableEntry","XUITypeahead.react","emptyFunction","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("Grid.react").GridItem;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=d.props.selectedEntry?{query:d.props.selectedEntry.getTitle(),selectedEntry:d.props.selectedEntry}:{query:d.props.preselectedID&&d.props.preselectedTitle?d.props.preselectedTitle:null,selectedEntry:d.props.preselectedID&&d.props.preselectedTitle?new(b("SearchableEntry"))({uniqueID:d.props.preselectedID,title:d.props.preselectedTitle}):null},d.$1=function(){(!d.state.selectedEntry||d.state.selectedEntry.getTitle()!==d.state.query)&&d.$2()},d.$2=function(){d.setState({query:"",selectedEntry:null}),d.props.onClear()},d.$5=function(a){d.setState({query:a.getTitle(),selectedEntry:a}),d.props.onChange(a)},d.$3=function(a){a=a.target.value;d.state.selectedEntry&&d.state.selectedEntry.getTitle()!==a?d.setState({query:a,selectedEntry:null}):d.setState({query:a})},d.$4=function(){d.setState({query:"",selectedEntry:null}),d.props.onClear()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=a.selectedEntry;(b&&!this.state.selectedEntry||b&&this.state.selectedEntry.getUniqueID()!==b.getUniqueID)&&this.setState({query:a.selectedEntry.getTitle(),selectedEntry:a.selectedEntry})};d.render=function(){var a=this.props,c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);var d=!!this.state.selectedEntry,e={};this.props.userId&&(e[this.props.userId]=!0);var f=this.props.prefix?h.jsx("span",{className:"_2qx7",children:this.props.prefix}):h.jsx("noscript",{}),g=this.props.prefix?"_2qx6 _64_-":null;return h.jsxs(b("Grid.react"),{className:g,cols:2,children:[h.jsx(i,{className:"_1ho1",children:f},"prefix"),h.jsx(i,{className:"_1xk6",children:h.jsx(b("XUITypeahead.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(c,"_39y9"+(d?" _39ya":"")),excludedEntries:e,onChange:this.$3,onClear:this.$4,onBlur:this.$1,onSelectAttempt:this.$5,queryString:this.state.query,searchSource:this.props.searchSource,focusedOnInit:this.props.focusedOnInit,showEntriesOnFocus:!1,clearable:this.props.clearable,selectedEntry:this.state.selectedEntry,tallInput:!0}))},"suffix")]})};return c}(h.Component);a.propTypes={searchSource:(c=b("prop-types")).object.isRequired,preselectedID:c.string,userId:c.string,prefix:c.string,onClear:c.func,onChange:c.func,selectedEntry:c.instanceOf(b("SearchableEntry")),focusedOnInit:c.bool,clearable:c.bool};a.defaultProps={onClear:b("emptyFunction"),onChange:b("emptyFunction"),focusedOnInit:!0,clearable:!0};e.exports=a}),null);
__d("ShareDialogGroupAudience.react",["cx","fbt","GroupShareActorSelector.react","React","ReactComposerContextTypes","ShareDialogAudienceTypeahead.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ShareDialogGroupAudience",contextTypes:b("ReactComposerContextTypes"),propTypes:{customModules:(a=b("prop-types")).arrayOf(a.func),searchSource:a.object.isRequired,pagesSource:a.object,onClear:a.func,onChange:a.func.isRequired,onSelect:a.func,defaultGroupID:a.string,userId:a.string,enableGroupVoiceSwitcher:a.bool,typeaheadClassName:a.string},getInitialState:function(){return{query:"",selectedEntry:null,selectedGroupID:null,showSpinner:!1}},UNSAFE_componentWillMount:function(){var a=this,b=this.props,c=b.defaultGroupID,d=b.searchSource;c&&d.bootstrap(function(){var b=d.getAllEntriesMap()[c];b&&(a.setState({query:b.getTitle(),selectedEntry:b}),a._onGroupChange(b))})},_onGroupChange:function(a){var b=a.getAuxiliaryData();b=b.isForSaleGroup;var c=this.props.searchSource;this.setState({isForSaleGroupSelected:b,selectedGroupID:a.getUniqueID(),selectedEntry:c.getAllEntriesMap()[a.getUniqueID]});this.props.onChange([a.getUniqueID()])},render:function(){var a=this,c=this.props.customModules?this.props.customModules:[],d=h._("Group:"),e=h._("Group name"),f=this.state.selectedGroupID?this.state.selectedGroupID:null;if(this.props.pagesSource&&this.props.enableGroupVoiceSwitcher){var g;return i.jsxs("div",{className:"_ul-",children:[i.jsx("div",{className:(g=this.props.typeaheadClassName)!=null?g:"_7_ti",children:i.jsx(b("ShareDialogAudienceTypeahead.react"),babelHelpers["extends"]({},this.props,{onChange:this._onGroupChange,prefix:d,showPhoto:!0,name:"audience_group",inputID:"audience_group",className:"_2n3i",placeholder:e,selectedEntry:this.state.selectedEntry}))}),i.jsx("div",{className:"_umc",children:i.jsx(b("GroupShareActorSelector.react"),{name:"audience_group_actor_identity",onChange:function(b){a.setState({selectedActorID:b.value,showSpinner:!0}),a.props.onChange([{groupId:a.state.selectedGroupID,actorId:b.value}])},targetID:f,defaultActorID:this.props.userId})})]})}return i.jsxs("div",{children:[i.jsx(b("ShareDialogAudienceTypeahead.react"),babelHelpers["extends"]({},this.props,{onChange:this._onGroupChange,prefix:d,showPhoto:!0,name:"audience_group",inputID:"audience_group",className:"_2n3i",placeholder:e,selectedEntry:this.state.selectedEntry})),c.map(function(b,c){return i.jsx(b,babelHelpers["extends"]({},a.props,a.state),c)})]})}});e.exports=c}),null);
__d("ShareDialogPageAudience.react",["cx","fbt","Image.react","LeftRight.react","React","ShareActorSelector.react","XUISelector.react","emptyFunction","getObjectValues","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("XUISelector.react").Option;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;c=c.defaultPageID?c.defaultPageID:b("getObjectValues")(c.pagesSource)[0].id;var e=d.props.defaultActorID?d.props.defaultActorID:c;d.state={selectedPageID:c,selectedActorID:e,onClear:b("emptyFunction"),onChange:b("emptyFunction")};return d}var d=c.prototype;d.componentDidMount=function(){this.props.hidePostingAs&&this.props.onChange([{pageId:this.state.selectedPageID,actorId:this.state.selectedActorID}])};d.render=function(){var a=this;if(!this.props.pagesSource)return i.jsx("span",{});var c=b("getObjectValues")(this.props.pagesSource).map(function(a){return i.jsx(j,{value:a.id,icon:i.jsx(b("Image.react"),{src:a.pic,height:15,width:15}),children:a.name},a.id)}),d=this.props.hidePostingAs?i.jsx("div",{}):i.jsxs("span",{children:[i.jsxs("strong",{className:"_15ua",children:[h._("Posting as")," "]}),i.jsx(b("ShareActorSelector.react"),{disabled:this.props.disabled,name:"audience_page_identity",onChange:function(b){a.setState({selectedActorID:b.value}),a.props.onChange([{pageId:a.state.selectedPageID,actorId:b.value}])},targetID:this.state.selectedActorID})]});return i.jsx("div",{className:"_15u8 _4cvk",children:i.jsxs(b("LeftRight.react"),{children:[i.jsx(b("XUISelector.react"),{className:"_15u9",disabled:this.props.disabled,name:"audience_page",inputID:"audience_page",maxheight:150,value:this.state.selectedPageID,defaultValue:this.state.selectedPageID,onChange:function(b){a.setState({selectedPageID:b.value,selectedActorID:b.value}),a.props.onChange([{pageId:b.value,actorId:a.state.selectedActorID}])},children:c}),d]})})};return c}(i.Component);a.propTypes={disabled:(c=b("prop-types")).bool,pagesSource:c.object.isRequired,onClear:c.func,onSelect:c.func,defaultPageID:c.string,defaultActorID:c.string,hidePostingAs:c.bool};e.exports=a}),null);
__d("LivingRoomCreationDialogStore",["LivingRoomTypeValues","undux"],(function(a,b,c,d,e,f){"use strict";a=b("LivingRoomTypeValues").AddVideoTabValue;c=b("undux").createConnectedStore;d={activeAudience:null,addVideoDialogShown:!1,addVideoDialogTab:a.MAIN,groupAudience:null,isPosting:!1,pageAudience:null,videoQueue:[],videoQueueDialogShown:!1,mainVideoID:null,autoPlayEnabled:!0};f=c(d);b=f.withStore;a=f.Container;e.exports={withStore:b,Container:a}}),null);
__d("LivingRoomShareSheetAttachment.react",["cx","fbt","ix","Badge.react","FBLoadShimmer.react","Image.react","ImageBlock.react","InlineBlock.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","LivingRoomAutoPlayButton.react","LivingRoomTypedLogger","LivingRoomTypeUtils","React","RelayFBEnvironment","RelayModern","ScaledImage.react","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","XUIButton.react","asset","immutable","promiseDone","qex","LivingRoomShareSheetAttachmentVideoCollectionQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){var j,k=b("React"),l=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loadingPlaylist:!1,generatePlaylistButtonNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVING_ROOM_SHARE_SHEET_ADD_PLAYLIST)&&d.$1(),seeVideosInQueueNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVING_ROOM_PLAYLISTS_CTA_PREPOP)&&d.$2()},d.maxQueuedVideoPreviewCount=b("qex")._("1235087")?5:6,d.$7=function(){d.setState({loadingPlaylist:!0});var a=d.props,c=a.queuedVideos,e=a.store;a=a.creationSource;c=c.map(function(a){return a.id}).toArray();new(b("LivingRoomTypedLogger"))().setLivingRoomAction("add_video_collection_share_sheet_button_pressed").updateExtraData({queued_video_ids:c.toString()}).log();b("promiseDone")(l(b("RelayFBEnvironment"),j!==void 0?j:j=b("LivingRoomShareSheetAttachmentVideoCollectionQuery.graphql"),{queuedVideoIDs:c,creationSource:a}).then(function(a){a=(a=a==null?void 0:(a=a.living_room_video_collection)==null?void 0:a.videos)!=null?a:[];a=b("LivingRoomTypeUtils").convertVideos(a);e.set("videoQueue")(e.get("videoQueue").concat(a.toArray()));d.setState({loadingPlaylist:!1})}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.state.generatePlaylistButtonNuxShown&&b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVING_ROOM_SHARE_SHEET_ADD_PLAYLIST),this.state.seeVideosInQueueNuxShown&&b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVING_ROOM_PLAYLISTS_CTA_PREPOP),this.forceUpdate()};d.$3=function(){this.setState({generatePlaylistButtonNuxShown:!1})};d.$4=function(){this.setState({generatePlaylistButtonNuxShown:!1})};d.$5=function(){var a=this;return k.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.attachPlaylistButton},alignment:"center",position:"above",shown:this.state.generatePlaylistButtonNuxShown,onCloseButtonClick:function(){a.$3()},children:h._("Click here to automatically create a playlist based on your selected video.")})};d.$6=function(){var a=this;return k.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.addVideoButton},alignment:"center",position:"above",shown:this.state.seeVideosInQueueNuxShown,onCloseButtonClick:function(){a.$4()},width:"auto",children:h._("Click to see the videos in your queue.")})};d.$8=function(){var a=this.props,c=a.creatorName;a=a.queuedVideos;var d=a.count();c=h._("{Name of the creator}'s watch party",[h._param("Name of the creator",c)]);var e=h._("Add videos to your queue");a=a.first();if(a!=null){var f;f=(f=(f=a==null?void 0:a.name)!=null?f:a==null?void 0:a.message.text)!=null?f:c;c=f.length>0?f:c;if(d===1){f=a==null?void 0:a.owner.name;a=(a==null?void 0:(a=a.owner)==null?void 0:a.is_verified)?k.jsx(b("Badge.react"),{size:"xsmall",type:"verified"}):null;e=k.jsxs(k.Fragment,{children:[f,a]})}else e=h._("1 of {total video count} videos",[h._param("total video count",d)])}return k.jsx(b("Layout.react"),{children:k.jsxs(b("InlineBlock.react"),{alignv:"middle",height:50,className:"_75cy",children:[k.jsx("div",{className:"_7_mh",children:h._("WATCH PARTY")}),k.jsx("div",{className:"_8mjj",children:k.jsx(b("LineClamp.react"),{lines:2,className:"_70zx",children:c})}),k.jsx("div",{className:"_70z-",children:e})]})})};d.$9=function(){var a=this.props.queuedVideos;return a.count()===0?"confirm":"default"};d.$10=function(){var a=this.props.store.get("autoPlayEnabled");return a?"confirm":"default"};d.$11=function(){var a=this.props.queuedVideos;return k.jsxs("span",{className:"_7_mi",children:["+",a.count()-this.maxQueuedVideoPreviewCount]})};d.$12=function(){var a=this,c=this.props,d=c.openContentQueue,e=c.queuedVideos;c=e.take(this.maxQueuedVideoPreviewCount).map(function(c,f){var g;f=f+1===a.maxQueuedVideoPreviewCount&&e.count()>a.maxQueuedVideoPreviewCount;g=k.jsx(b("ScaledImage.react"),{height:26,imageSize:{height:((g=c.preferred_thumbnail.image)==null?void 0:g.height)||26,width:((g=c.preferred_thumbnail.image)==null?void 0:g.width)||46},src:c.preferred_thumbnail.image.uri,width:46,className:"_7_mj"+(f?" _7_mk":"")});return k.jsxs(b("LayoutColumn.react"),{className:"_83f_ _7_ml"+(f?" _7_mm":""),onClick:d,children:[g,f?a.$11():null]},c.id)});var f=[];if(e.count()<this.maxQueuedVideoPreviewCount){var g=this.maxQueuedVideoPreviewCount-e.count();f=Array.from(Array(g)).map(function(c,d){return k.jsx("div",{children:k.jsx(b("LayoutColumn.react"),{className:"_7_ml"+(a.state.loadingPlaylist?" _83fs":"")+(a.state.loadingPlaylist?"":" _83f-"),children:k.jsx(b("FBLoadShimmer.react"),{className:a.state.loadingPlaylist?"_83fs":""})})},"queueVideoShimmerCard_"+d)})}return c.concat(f)};d.$1=function(){var a;return((a=b("qex")._("945049"))!=null?a:!1)&&(this.state?!this.state.loadingPlaylist:!0)};d.$2=function(){var a;return(a=b("qex")._("961006")&&this.props.queuedVideos.count()>1)!=null?a:!1};d.render=function(){var a,c=this.props,d=c.onAddVideoClick,e=c.queuedVideos;c=c.onAutoPlayClick;var f=e.count();e=e.first();var g=h._("Add Videos");a=k.jsx(b("ScaledImage.react"),{height:90,imageSize:{height:(e==null?void 0:(a=e.attachment_image)==null?void 0:a.height)||90,width:(e==null?void 0:(a=e.attachment_image)==null?void 0:a.width)||160},src:(e=e==null?void 0:(a=e.attachment_image)==null?void 0:a.uri)!=null?e:i("841213"),width:160});e=f===1&&this.$1()?k.jsxs(k.Fragment,{children:[k.jsx(b("XUIButton.react"),{className:"_81tu _81tv",loading:this.state.loadingPlaylist,disabled:this.state.loadingPlaylist,label:h._("Add Suggestions"),onClick:this.$7,ref:"attachPlaylistButton"}),this.$5()]}):null;c=b("qex")._("1235087")?k.jsx(b("LayoutColumn.react"),{children:k.jsx(b("XUIButton.react"),{ref:"autoPlayButton",className:"_81tu _8tya"+(this.state.loadingPlaylist?" _83g0":""),label:b("LivingRoomAutoPlayButton.react").label,onClick:c,use:this.$10(),image:this.props.store.get("autoPlayEnabled")?k.jsx(b("Image.react"),{src:i("512844")}):null})}):null;return k.jsxs("div",{className:"_7_mn",children:[k.jsxs(b("ImageBlock.react"),{children:[a,this.$8()]}),k.jsx("div",{className:"_7_mo",children:k.jsxs(b("Layout.react"),{children:[this.$12(),k.jsxs(b("LayoutFillColumn.react"),{children:[k.jsx(b("XUIButton.react"),{ref:"addVideoButton",className:"_81tu"+(f===1&&this.$1()?" _81tv":"")+(f!==1||!this.$1()?" _81tw":"")+(this.state.loadingPlaylist?" _83g0":""),label:g,onClick:d,use:this.$9()}),e,this.$6()]}),c]})})]})};return c}(k.Component);e.exports=a}),null);
__d("XLivingRoomGroupUpsellMetadataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/group/share/metadata/",{target_id:{type:"Int"}})}),null);
__d("LivingRoomShareSheetCrosspostingGroupUpsellListItem.react",["ix","cx","fbt","AsyncRequest","FDSBaseCheckboxInput.react","Image.react","MarketplacePrivacyIcon","React","XLivingRoomGroupUpsellMetadataController","asset","clearTimeout","intlSummarizeNumber","setTimeout"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={numMembers:null,numFriendMembers:null,privacyIcon:null,privacyLabel:null},c.$1=!1,c.$2=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2=b("setTimeout")(function(){a.$3(a.props.entry.getUniqueID())},400);this.$1=!0};d.componentWillUnmount=function(){this.$1=!1,this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};d.$3=function(a){var c=this;a=b("XLivingRoomGroupUpsellMetadataController").getURIBuilder().setInt("target_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload();c.$1&&a.numMembers!=null&&a.numFriendMembers!=null&&a.privacyIcon!==null&&a.privacyLabel!==null&&c.setState({numMembers:a.numMembers,numFriendMembers:a.numFriendMembers,privacyIcon:a.privacyIcon,privacyLabel:a.privacyLabel})}).send()};d.render=function(){var a=this,c=this.props.entry,d=j.jsx(b("Image.react"),{src:c.getPhoto(),className:"_8nmy"}),e=this.state,f=e.numMembers,h=e.numFriendMembers,k=e.privacyIcon;e=e.privacyLabel;return j.jsxs("div",{className:"_7_of",children:[d,j.jsxs("div",{children:[j.jsx("span",{className:"_7_t1",children:c.getTitle()}),f!=null&&h!=null?j.jsxs("div",{className:"_8nlm",children:[j.jsx(b("Image.react"),{className:"_8nmz",src:b("MarketplacePrivacyIcon")(k)}),e,j.jsx(b("Image.react"),{src:g("515552")}),i._("{number of members in group} members",[i._param("number of members in group",b("intlSummarizeNumber")(f))]),j.jsx(b("Image.react"),{src:g("515552")}),i._("{number of viewer friend members in group} friends",[i._param("number of viewer friend members in group",b("intlSummarizeNumber")(h))])]}):null]}),j.jsx("div",{className:"_7_og",children:j.jsx(b("FDSBaseCheckboxInput.react"),{onChange:function(b){a.props.onSelectGroup(b,a.props.entry.getUniqueID())},isDisabled:!this.props.selected&&this.props.selectedCount>this.props.maxGroups-1,value:this.props.selected})})]})};return c}(j.Component);e.exports=a}),null);
__d("LivingRoomShareSheetCrosspostingGroupUpsellList.react",["cx","fbt","ix","CenteredContainer.react","FDSButton.react","Image.react","InlineBlock.react","LeftRight.react","LivingRoomHostFunnelLogger","LivingRoomShareSheetCrosspostingGroupUpsellListItem.react","React","SearchableTextInput.react","Tooltip","XUIDialogButton.react","XUIDialogFooter.react","XUISpinner.react","cxMargin","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={entries:c.props.recommendedGroups,loading:!1,selectedGroups:{},query:""},c.$1=function(a,b){c.setState(function(c,d){d=c.selectedGroups;delete d[b];a&&(d[b]=a);return{selectedGroups:d}})},c.$2=function(a){a=a.target.value;c.setState({loading:!0,query:a})},c.$3=function(a){window.setTimeout(function(){c.setState(function(b){return{entries:b.query===""?c.props.recommendedGroups:a,loading:!1}})},100)},c.$4=function(a){a===c.state.query&&c.setState({loading:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$5=function(){var a=this,c=Object.keys(this.state.selectedGroups).length;return j.jsxs(b("XUIDialogFooter.react"),{children:[j.jsx(b("InlineBlock.react"),babelHelpers["extends"]({className:"_77ri"},b("Tooltip").propsFor(h._("People who can see posts in the group")),{children:j.jsx(b("Image.react"),{src:i("83921")})})),j.jsx(b("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),onClick:function(){return b("LivingRoomHostFunnelLogger").endFunnel("close_creation_dialog")}}),j.jsx(b("FDSButton.react"),{isDisabled:c<1,label:c>1?h._("Start Separately"):h._("Start"),onClick:function(){return a.props.onPost(a.props.userID,Object.keys(a.state.selectedGroups))},margin:"_3-9a",size:"small",use:"primary"})]})};d.render=function(){var a,c=this,d=(a=b("qex")._("1135964"))!=null?a:1;a=this.state.entries.map(function(a){return j.jsx("li",{className:"_7_oe",children:j.jsx(b("LivingRoomShareSheetCrosspostingGroupUpsellListItem.react"),{onSelectGroup:c.$1,userID:c.props.userID,entry:a,selected:c.state.selectedGroups[a.getUniqueID()],selectedCount:Object.keys(c.state.selectedGroups).length,maxGroups:d})},a.getUniqueID())});var e=h._("Search for groups");return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"_8nmw",children:[j.jsxs(b("LeftRight.react"),{children:[j.jsx("div",{className:"_8nmx",children:h._("Pick up to {number of maximum allowed groups} groups",[h._param("number of maximum allowed groups",d)])}),j.jsx("div",{className:"_8nll",children:h._("{number of selected groups} of {number of maximum allowed groups}",[h._param("number of selected groups",Object.keys(this.state.selectedGroups).length),h._param("number of maximum allowed groups",d)])})]}),j.jsx("div",{className:"_2ph-",children:j.jsx(b("SearchableTextInput.react"),{className:"_7_ok autofocus",onChange:this.$2,onEntriesFound:this.$3,placeholder:e,queryString:this.state.query,searchSource:this.props.dataSource,searchSourceOptions:{onQueryFinished:this.$4}})}),this.state.loading?j.jsx("div",{className:"_7_rj",children:j.jsx(b("XUISpinner.react"),{})}):this.state.entries.length===0?j.jsx(b("CenteredContainer.react"),{className:"_2pi1",children:h._("No results")}):j.jsx("div",{className:"_7_ox",children:j.jsx("ul",{children:a})})]}),this.$5()]})};return c}(j.Component);e.exports=a}),null);
__d("LivingRoomShareSheetGroupUpsellListItem.react",["ix","cx","fbt","AsyncRequest","FDSButton.react","FDSButtonSpinner.react","GroupShareActorSelector.react","Image.react","MarketplacePrivacyIcon","React","XLivingRoomGroupUpsellMetadataController","asset","clearTimeout","intlSummarizeNumber","setTimeout"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showGroupActorSelector:!1,selectedActorID:null,numMembers:null,numFriendMembers:null,privacyIcon:null,privacyLabel:null,loading:!1,hasLoaded:!1,disabled:!1},c.$1=!1,c.$2=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2=b("setTimeout")(function(){a.$3(a.props.entry.getUniqueID()),a.setState({showGroupActorSelector:!0})},400);this.$1=!0};d.componentWillUnmount=function(){this.$1=!1,this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};d.$3=function(a){var c=this;a=b("XLivingRoomGroupUpsellMetadataController").getURIBuilder().setInt("target_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload();c.$1&&a.numMembers!=null&&a.numFriendMembers!=null&&a.privacyIcon!==null&&a.privacyLabel!==null&&c.setState({numMembers:a.numMembers,numFriendMembers:a.numFriendMembers,privacyIcon:a.privacyIcon,privacyLabel:a.privacyLabel})}).send()};d.render=function(){var a=this,c=this.props.entry,d=j.jsx(b("Image.react"),{src:c.getPhoto(),className:"_7_od"}),e=this.state.selectedActorID!=null?this.state.selectedActorID:this.props.userID,f=this.state,h=f.numMembers,k=f.numFriendMembers,l=f.privacyIcon;f=f.privacyLabel;var m=this.state.hasLoaded?this.props.groupUpsellActionCompleteLabel:this.props.groupUpsellActionLabel;return j.jsxs("div",{className:"_7_of",children:[d,j.jsxs("div",{children:[j.jsx("span",{className:"_7_t1",children:c.getTitle()}),h!=null&&k!=null?j.jsxs("div",{className:"_7_rk",children:[j.jsx(b("Image.react"),{className:"_8nmz",src:b("MarketplacePrivacyIcon")(l)}),f,j.jsx(b("Image.react"),{src:g("515552")}),i._("{number of members in group} members",[i._param("number of members in group",b("intlSummarizeNumber")(h))]),j.jsx(b("Image.react"),{src:g("515552")}),i._("{number of viewer friend members in group} friends",[i._param("number of viewer friend members in group",b("intlSummarizeNumber")(k))])]}):null]}),this.state.showGroupActorSelector?j.jsxs("div",{className:"_7_og",children:[j.jsx(b("GroupShareActorSelector.react"),{name:"audience_group_actor_identity",onChange:function(b){a.$1&&a.setState({selectedActorID:b.value})},targetID:c.getUniqueID(),defaultActorID:this.props.userID}),j.jsx(b("FDSButton.react"),{isDisabled:this.state.disabled===!0||this.state.loading===!0,busyIndicator:this.state.loading===!0?j.jsx(b("FDSButtonSpinner.react"),{}):null,label:(d=m)!=null?d:i._("Start"),onClick:function(){a.props.showLoadingAnimation&&a.setState({loading:!0}),a.props.onPost(c.getUniqueID(),e,function(b){a.setState({loading:!1}),b&&a.setState({hasLoaded:!0}),a.props.disableButtonOnAction&&b&&a.setState({disabled:!0})})},use:"primary",size:"small"})]}):null]})};return c}(j.Component);e.exports=a}),null);
__d("LivingRoomShareSheetGroupUpsellList.react",["cx","fbt","CenteredContainer.react","LivingRoomShareSheetGroupUpsellListItem.react","React","SearchableTextInput.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={entries:c.props.recommendedGroups,loading:!1,query:""},c.$1=function(a){a=a.target.value;c.setState({loading:!0,query:a})},c.$2=function(a){window.setTimeout(function(){c.setState(function(b){return{entries:b.query===""?c.props.recommendedGroups:a,loading:!1}})},100)},c.$3=function(a){a===c.state.query&&c.setState({loading:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c,d=this.state.entries.map(function(c){return i.jsx("li",{className:"_7_oe",children:i.jsx(b("LivingRoomShareSheetGroupUpsellListItem.react"),{userID:a.props.userID,groupUpsellActionLabel:a.props.groupUpsellActionLabel,disableButtonOnAction:a.props.disableButtonOnAction,showLoadingAnimation:a.props.showLoadingAnimation,groupUpsellActionCompleteLabel:a.props.groupUpsellActionCompleteLabel,onPost:a.props.onPost,entry:c})},c.getUniqueID())}),e=h._("Search for groups");return i.jsxs("div",{className:this.props.darkBackground?"_8v7d":"",children:[i.jsx("div",{className:"_7_oh",children:(c=this.props.headerLabel)!=null?c:h._("Share to a group")}),i.jsx("div",{className:"_2ph-"+(this.props.darkBackground?" _8v7d":"")+(this.props.darkBackground?"":" _8v7e"),children:i.jsx(b("SearchableTextInput.react"),{className:"_7_ok autofocus",onChange:this.$1,onEntriesFound:this.$2,placeholder:e,queryString:this.state.query,searchSource:this.props.dataSource,searchSourceOptions:{onQueryFinished:this.$3}})}),this.state.loading?i.jsx("div",{className:"_7_rj",children:i.jsx(b("XUISpinner.react"),{})}):this.state.entries.length===0?i.jsx(b("CenteredContainer.react"),{className:"_2pi1",children:h._("No results")}):i.jsx("div",{className:"_7_ox",children:i.jsx("ul",{children:d})})]})};return c}(i.Component);e.exports=a}),null);
__d("LivingRoomCreationDialogAddVideoCollectionItem.react",["fbt","FDSButton.react","LivingRoomComposerLogger","LivingRoomVideoCollectionListItem.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){function c(){var c=a.store.get("videoQueue").map(function(a){return a.id}),d=a.videos.filter(function(a){return!c.includes(a.id)});a.store.set("videoQueue")(a.store.get("videoQueue").concat(d.toArray()));b("LivingRoomComposerLogger").get().setLivingRoomAction("add_collection_to_queue").setCurationContext("recommended_video_collections").addToExtraData("video_ids",d.map(function(a){return a.id}).toString()).log()}function d(){var c=a.videos.map(function(a){return a.id});a.store.set("videoQueue")(a.store.get("videoQueue").filter(function(a){return!c.includes(a.id)}));b("LivingRoomComposerLogger").get().setLivingRoomAction("remove_collection_from_queue").setCurationContext("recommended_video_collections").addToExtraData("video_ids",c.toString()).log()}var e=a.videos,f=a.store,i=a.title,j=f.get("videoQueue").map(function(a){return a.id});f=e.every(function(a){return j.includes(a.id)});f?(f=d,d=g._("Remove")):(f=c,d=g._("Add to Queue"));c=h.jsx(b("FDSButton.react"),{maxWidth:150,label:d,onClick:f,use:"default"});return h.jsx(b("LivingRoomVideoCollectionListItem.react"),{button:c,title:i,videos:e,disableClick:!1,onClickItem:f})}e.exports=a}),null);
__d("LivingRoomCreationDialogAddVideoItemContainer.react",["fbt","FDSButton.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","LivingRoomValidateVideoMutation","LivingRoomVideoItem.react","LivingRoomVideoListItem.react","LivingRoomVideoValidation","React","SimpleXUIDialog","immutable","qex"],(function(a,b,c,d,e,f,g){"use strict";a=b("LivingRoomCreationDialogStore").withStore;var h=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={disabled:!1,queuing:!1},d.$1=function(){b("LivingRoomHostFunnelLogger").appendAction("add_to_queue"),d.setState({queuing:!0}),b("LivingRoomValidateVideoMutation").commit({group_id:null,video_id:d.props.video.id},function(a){d.setState({queuing:!1});a=(a=a)!=null?(a=a.living_room_validate_video)!=null?a.living_room_video_validation:a:a;d.$2(a)})},d.$4=function(a){d.props.store.set("videoQueue")(d.props.store.get("videoQueue").concat(a.toArray())),d.props.store.set("addVideoDialogShown")(!1)},d.$5=function(){b("LivingRoomHostFunnelLogger").appendAction("remove_from_queue");var a=d.props.store.get("videoQueue");d.props.store.set("videoQueue")(a.filter(function(a){return a.id!==d.props.video.id}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){if(a!=="IS_VALID"){this.setState({disabled:!0});this.$3();return}this.props.store.set("videoQueue")(this.props.store.get("videoQueue").concat(this.props.video))};d.$3=function(){b("SimpleXUIDialog").show(g._("The video that you've selected may not be eligible to play in a watch party"))};d.render=function(){var a=this,c=this.state,d=c.queuing;c=c.disabled;var e=this.props.store.get("videoQueue").findIndex(function(b){return a.props.video.id===b.id});e=e!==-1;var f=this.$1,i=g._("Add to Queue");e?(f=this.$5,i=g._("Remove")):d&&(i=g._("Queuing"));var j=d||e?function(){}:this.$1,k=e||d||c||b("qex")._("866192")?"default":"primary";i=h.jsx(b("FDSButton.react"),{isDisabled:c||d,maxWidth:150,label:i,onClick:f,use:k});return b("qex")._("866192")?h.jsx(b("LivingRoomVideoListItem.react"),{addVideosToQueue:this.$4,disableClick:c||d,badgeControls:i,inSidePane:!1,onClickItem:j,showErrorMessage:!1,video:this.props.video,isQueued:e}):h.jsx(b("LivingRoomVideoItem.react"),{disabled:this.state.disabled,video:this.props.video,children:i})};return c}(h.Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialogAddVideoContainer.react",["LivingRoomAddVideoDialog.react","LivingRoomComposerLogger","LivingRoomCreationDialogAddVideoCollectionItem.react","LivingRoomCreationDialogAddVideoItemContainer.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","LivingRoomTypeUtils","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f){"use strict";a=b("LivingRoomCreationDialogStore").withStore;var g=b("LivingRoomTypeValues").WalkthroughStepValue,h=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.store.set("addVideoDialogShown")(!1)},d.$2=function(a){d.props.store.set("addVideoDialogTab")(a),b("LivingRoomHostFunnelLogger").getFunnelLogger().setAction("curation_tab_impression").addFunnelPayload("curation_context",b("LivingRoomTypeUtils").convertTab(a)).log()},d.$3=function(){d.props.store.set("videoQueueDialogShown")(!0),d.props.store.set("addVideoDialogShown")(!1),b("LivingRoomHostFunnelLogger").appendAction("open_content_queue")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c=this;if(!this.props.store.get("addVideoDialogShown"))return null;a=(a=this.props.store.get("pageAudience"))==null?void 0:a.pageId;var d=this.props.store.get("mainVideoID");return h.jsx(b("LivingRoomAddVideoDialog.react"),{constructLogger:function(){return b("LivingRoomComposerLogger").get()},onClose:this.$1,onTabClick:this.$2,onViewQueueClick:this.$3,selectedTab:this.props.store.get("addVideoDialogTab"),videoItemRenderer:function(a){return h.jsx(b("LivingRoomCreationDialogAddVideoItemContainer.react"),babelHelpers["extends"]({},a))},videoCollectionRenderer:function(a){return h.jsx(b("LivingRoomCreationDialogAddVideoCollectionItem.react"),babelHelpers["extends"]({store:c.props.store},a))},walkthroughStep:g.HIDE,isGameGroup:!1,initializedFromComposer:!0,pageID:a,groupID:null,mainVideoID:d})};return c}(h.Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialogAudienceSelector.react",["cx","LivingRoomCreationDialogStore","React","ShareDialogAudienceSelector.react","ShareDialogAudienceTypes","ShareDialogGroupAudience.react","ShareDialogPageAudience.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";a=b("LivingRoomCreationDialogStore").withStore;var h=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.store.get("activeAudience");if(!c)return null;var d=[b("ShareDialogAudienceTypes").OWN,b("ShareDialogAudienceTypes").GROUP];this.props.dataSources.pageSource&&d.push(b("ShareDialogAudienceTypes").PAGE);return h.jsxs(h.Fragment,{children:[h.jsx(b("XUIDialogTitle.react"),{showCloseButton:!0,children:h.jsx("div",{className:"_78mf",children:h.jsx(b("ShareDialogAudienceSelector.react"),{allowedAudiences:d,activeAudience:c,onAudienceSelect:function(b){return a.props.store.set("activeAudience")(b)}})})}),c===b("ShareDialogAudienceTypes").PAGE?h.jsx(b("ShareDialogPageAudience.react"),{onChange:function(b){b=b[0];return a.props.store.set("pageAudience")(b)},pagesSource:this.props.dataSources.pageSource,defaultPageID:this.props.pageID,hidePostingAs:!0}):c===b("ShareDialogAudienceTypes").GROUP&&!this.props.allowCrossposting?h.jsx(b("ShareDialogGroupAudience.react"),{onChange:function(b){b=b[0];a.props.store.set("groupAudience")((b==null?void 0:b.groupId)&&(b==null?void 0:b.actorId)?b:{groupId:b,actorId:a.props.actorID})},onClear:function(){return a.props.store.set("groupAudience")(null)},searchSource:this.props.dataSources.groupSource,pagesSource:this.props.dataSources.pageSource,enableGroupVoiceSwitcher:this.props.dataSources.pageSource!=null,userId:this.props.actorID,defaultGroupID:this.props.groupID!=null?this.props.groupID:"",typeaheadClassName:"_77rj"}):null]})};return c}(h.Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialogComposer.react",["cx","fbt","LivingRoomCreationDialogStore","React","ReactComposer.react","ReactComposerAttachmentType","ReactComposerBody.react","ReactComposerProfilePhotoBlock.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ShareDialogAudienceTypes"],(function(a,b,c,d,e,f,g,h){"use strict";c=b("LivingRoomCreationDialogStore").withStore;var i=b("React");function a(a){var c=a.store.get("activeAudience"),d=a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].profilePicSrc;if(c===b("ShareDialogAudienceTypes").PAGE){var e=a.dataSources.pageSource,f=a.store.get("pageAudience");f&&(d=e[f.pageId].pic)}else if(c===b("ShareDialogAudienceTypes").GROUP){e=a.dataSources.pageSource;f=a.store.get("groupAudience");d=e&&((c=e[f==null?void 0:f.actorId])==null?void 0:c.pic)||d}return i.jsx(b("ReactComposer.react"),{hideBorders:!0,loggingConfig:a.composerConfig.loggingConfig,activateOnInit:!0,activateOnInitEntryPoint:a.composerConfig.triggeredFrom,children:i.jsx(b("ReactComposerBody.react"),{children:i.jsx(b("ReactComposerProfilePhotoBlock.react"),{profilePicSrc:d,children:i.jsx(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{className:"_70ye",config:a.composerConfig,placeholder:h._("Say something about this..."),mentionsEnabled:!0})})})})}e.exports=c(a)}),null);
__d("LivingRoomCreationDialogQueueContainer.react",["cx","fbt","DialogFitHeightToContent","FDSButton.react","LivingRoomCreationDialogAddVideoItemContainer.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","React","XUIDialog.react","XUIDialogBody.react","XUIDialogDoneButton.react","XUIDialogFooter.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("LivingRoomCreationDialogStore").withStore;var i=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.store.set("videoQueueDialogShown")(!1),b("LivingRoomHostFunnelLogger").appendAction("close_content_queue")},d.$2=function(){d.props.store.set("videoQueueDialogShown")(!1),d.props.store.set("addVideoDialogShown")(!0),b("LivingRoomHostFunnelLogger").appendAction("close_content_queue"),b("LivingRoomHostFunnelLogger").appendAction("click_prepopulate")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){var a=this.props.store.get("videoQueue");return a.length===0?i.jsx("div",{className:"_65qu",children:i.jsx("div",{className:"_65qv",children:h._("No videos in the queue")})}):i.jsx("div",{className:"_2xft",children:a.map(function(a){return i.jsx(b("LivingRoomCreationDialogAddVideoItemContainer.react"),{curationContext:null,video:a},a.id)})})};d.render=function(){return!this.props.store.get("videoQueueDialogShown")?null:i.jsxs(b("XUIDialog.react"),{behaviors:{DialogFitHeightToContent:b("DialogFitHeightToContent")},className:"_4cnl",label:"Queue",onToggle:this.$1,ref:"dialog",shown:!0,width:600,children:[i.jsx(b("XUIDialogTitle.react"),{className:"_1k4o",children:h._("Queue")}),i.jsx(b("XUIDialogBody.react"),{className:"_3fme",useCustomPadding:!0,children:this.$3()}),i.jsxs(b("XUIDialogFooter.react"),{className:"_4cno",children:[i.jsx(b("FDSButton.react"),{label:h._("Add Video"),margin:"_3-8_",onClick:this.$2}),i.jsx(b("XUIDialogDoneButton.react"),{className:"_3-91",onClick:this.$1,size:"large"})]})]})};return c}(i.Component);e.exports=a(c)}),null);
__d("LivingRoomCreationDialog.react",["cx","fbt","ix","ActorURI","CreateGroupCrosspostedLivingRoomPostMutation","CreateLivingRoomPostMutation","FDSButton.react","FDSSpinner.react","Image.react","InlineBlock.react","LayerFadeOnHide","LayerHideOnEscape","LayerRemoveOnHide","LivingRoomComposerDispatcher","LivingRoomComposerStore","LivingRoomCreationDialogAddVideoContainer.react","LivingRoomCreationDialogAudienceSelector.react","LivingRoomCreationDialogComposer.react","LivingRoomCreationDialogQueueContainer.react","LivingRoomCreationDialogStore","LivingRoomHostFunnelLogger","LivingRoomShareSheetAttachment.react","LivingRoomShareSheetCrosspostingGroupUpsellList.react","LivingRoomShareSheetGroupUpsellList.react","LivingRoomTypeValues","React","ReactComposerActions","ReactComposerAudienceSelectorContainer.react","ReactComposerAudienceStore","ReactComposerContextProviderMixin","ReactComposerContextTypes","ReactComposerStatusActions","ReactComposerStatusStore","ShareDialogAudienceTypes","SimpleXUIDialog","Tooltip","XGroupLivingRoomFullScreenController","XLivingRoomFullScreenController","XUIDialog.react","XUIDialogButton.react","XUIDialogFooter.react","cxMargin","goURI","immutable","nullthrows","qex","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=b("LivingRoomCreationDialogStore").withStore;var j=b("LivingRoomTypeValues").AddVideoTabValue,k=b("React"),l=496;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a,c,e){d.$3(b("ShareDialogAudienceTypes").GROUP,c,"group",a,e)},d.$4=function(a,c){var e=d.props.store;e.set("isPosting")(!0);var f=b("ReactComposerStatusStore").getMessage(d.props.contextConfig.composerID)||"",g=b("ReactComposerAudienceStore").getAudience(d.props.contextConfig.composerID)||"",i=e.get("videoQueue").map(function(a){return a.id}),j="group",k=e.get("autoPlayEnabled");b("LivingRoomHostFunnelLogger").appendAction("create_post_clicked",j);b("CreateGroupCrosspostedLivingRoomPostMutation").commit({actor_id:a,config_type:j,queued_video_ids:i,message:f,target_ids:c,privacy:g,creation_source:d.props.creationSource,auto_play_enabled:k},function(c){var e;e=b("nullthrows")(c==null?void 0:(e=c.create_group_crossposted_living_room_post)==null?void 0:(e=e.living_room)==null?void 0:e.id);c=b("nullthrows")(c==null?void 0:(c=c.create_group_crossposted_living_room_post)==null?void 0:c.target_id);d.props.logger("create_post_succeeded").log();b("LivingRoomHostFunnelLogger").endFunnel("create_post_succeeded",j);b("ReactComposerActions").postSucceeded(d.props.contextConfig.composerID);c=b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",c).setFBID("living_room_id",e).setEnum("entry_source",d.props.entrySource).getURI();a!==d.props.contextConfig.actorID&&(c=b("ActorURI").create(c,a));b("goURI")(c,d.props.creationSource==="end_screen_cta")},function(a){e.set("isPosting")(!1),d.props.logger("create_post_failed").setErrorStack(a.stack).setErrorMessage(a.message).log(),b("LivingRoomHostFunnelLogger").endFunnel("create_post_failed",j),b("SimpleXUIDialog").showConfirm(h._("This post could not be shared at this time. Please try again later"))})},d.$5=function(){d.props.logger("create_post_clicked").log();var a=d.props.store,c=a.get("activeAudience"),e;if(c===b("ShareDialogAudienceTypes").PAGE){var f,g;f=b("nullthrows")((f=a.get("pageAudience"))==null?void 0:f.actorId);e="page";g=b("nullthrows")((g=a.get("pageAudience"))==null?void 0:g.pageId)}else if(c===b("ShareDialogAudienceTypes").GROUP){var h;f=b("nullthrows")((h=a.get("groupAudience"))==null?void 0:h.actorId);e="group";g=b("nullthrows")((h=a.get("groupAudience"))==null?void 0:h.groupId)}else f=d.props.contextConfig.actorID,e="user",g=f;d.$3(c,f,e,g)},d.$6=function(){d.props.store.set("addVideoDialogTab")(j.MAIN),d.props.store.set("addVideoDialogShown")(!0),b("LivingRoomHostFunnelLogger").appendAction("click_prepopulate")},d.$7=function(){var a=!d.props.store.get("autoPlayEnabled");d.props.store.set("autoPlayEnabled")(a);b("LivingRoomHostFunnelLogger").appendAction(a?"autoplay_toggle_on":"autoplay_toggle_off")},d.$8=function(){d.props.store.set("videoQueueDialogShown")(!0),d.props.store.set("addVideoDialogShown")(!1),b("LivingRoomHostFunnelLogger").appendAction("open_content_queue")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getChildContext=function(){return b("ReactComposerContextProviderMixin").getChildContext.bind(this)()};d.componentDidMount=function(){var a=this.props,c=a.contextConfig,d=a.creationSource,e=a.dataSources,f=a.defaultAudience;a=a.logger;a("open_creation_dialog").log();a=f===b("ShareDialogAudienceTypes").PAGE?"page":f===b("ShareDialogAudienceTypes").GROUP?"group":"user";b("LivingRoomHostFunnelLogger").startFunnel("open_creation_dialog",b("uniqueID")(),c.composerID,a,d);b("LivingRoomComposerDispatcher").explicitlyRegisterStores([b("LivingRoomComposerStore")]);b("ReactComposerStatusActions").setMentionsSource(c.composerID,e.mentionsSource)};d.$1=function(){b("LivingRoomHostFunnelLogger").endFunnel("close_creation_dialog")};d.$3=function(a,c,d,e,f){var g=this;f===void 0&&(f=null);var i=this.props.store;i.set("isPosting")(!0);var j=b("ReactComposerStatusStore").getMessage(this.props.contextConfig.composerID)||"",k=b("ReactComposerAudienceStore").getAudience(this.props.contextConfig.composerID)||"",l=i.get("videoQueue").map(function(a){return a.id}),m=i.get("autoPlayEnabled");b("LivingRoomHostFunnelLogger").appendAction("create_post_clicked",d);b("CreateLivingRoomPostMutation").commit({actor_id:c,config_type:d,queued_video_ids:l,message:j,target_id:e,privacy:k,creation_source:this.props.creationSource,auto_play_enabled:m},function(h){h=b("nullthrows")(h==null?void 0:(h=h.create_living_room_post)==null?void 0:(h=h.living_room)==null?void 0:h.id);f!=null&&f(!0);g.props.logger("create_post_succeeded").log();b("LivingRoomHostFunnelLogger").endFunnel("create_post_succeeded",d);b("ReactComposerActions").postSucceeded(g.props.contextConfig.composerID);h=a===b("ShareDialogAudienceTypes").GROUP?b("XGroupLivingRoomFullScreenController").getURIBuilder().setFBID("group_id",e).setFBID("living_room_id",h).setEnum("entry_source",g.props.entrySource).getURI():b("XLivingRoomFullScreenController").getURIBuilder().setFBID("living_room_id",h).setEnum("entry_source",g.props.entrySource).getURI();c!==g.props.contextConfig.actorID&&(h=b("ActorURI").create(h,c));b("goURI")(h,g.props.creationSource==="end_screen_cta")},function(a){i.set("isPosting")(!1),f!=null&&f(!1),g.props.logger("create_post_failed").setErrorStack(a.stack).setErrorMessage(a.message).log(),b("LivingRoomHostFunnelLogger").endFunnel("create_post_failed",d),b("SimpleXUIDialog").showConfirm(h._("This post could not be shared at this time. Please try again later"))})};d.$9=function(){return this.props.store.get("isPosting")?k.jsx("div",{className:"_70z7",children:k.jsx(b("FDSSpinner.react"),{center:!0})}):null};d.$10=function(){return this.$11()&&this.props.store.get("activeAudience")===b("ShareDialogAudienceTypes").GROUP};d.$11=function(){return Boolean(b("qex")._("1135963"))};d.$12=function(){return k.jsxs(b("XUIDialogFooter.react"),{children:[this.props.store.get("activeAudience")===b("ShareDialogAudienceTypes").GROUP?k.jsx(b("InlineBlock.react"),babelHelpers["extends"]({className:"_77ri"},b("Tooltip").propsFor(h._("People who can see posts in the group")),{children:k.jsx(b("Image.react"),{src:i("83921")})})):k.jsx(b("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.store.get("activeAudience")===b("ShareDialogAudienceTypes").PAGE?this.props.pagePrivacySelector:this.props.privacySelector,viewerIsTarget:this.props.store.get("activeAudience")!==b("ShareDialogAudienceTypes").PAGE}),k.jsx(b("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),onClick:function(){return b("LivingRoomHostFunnelLogger").endFunnel("close_creation_dialog")}}),k.jsx(b("FDSButton.react"),{isDisabled:this.props.store.get("activeAudience")===b("ShareDialogAudienceTypes").GROUP&&this.props.store.get("groupAudience")===null,label:h._("Start"),margin:"_3-9a",onClick:this.$5,size:"small",use:"primary"})]})};d.render=function(){var a=this.$10(),c=this.$11();return k.jsxs(k.Fragment,{children:[k.jsxs(b("XUIDialog.react"),{label:"Watch Party",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerRemoveOnHide:b("LayerRemoveOnHide")},onToggle:this.$1,className:"_51jd",layerHideOnBlur:!1,modal:!0,shown:!0,width:l,children:[this.$9(),k.jsx(b("LivingRoomCreationDialogAudienceSelector.react"),{actorID:this.props.contextConfig.actorID,allowCrossposting:a,dataSources:this.props.dataSources,pageID:this.props.pageID,groupID:this.props.groupID}),k.jsx(b("LivingRoomCreationDialogComposer.react"),{composerConfig:this.props.composerConfig,dataSources:this.props.dataSources}),k.jsx(b("LivingRoomShareSheetAttachment.react"),{creatorName:this.props.creatorName,creationSource:this.props.creationSource,onAddVideoClick:this.$6,openContentQueue:this.$8,queuedVideos:b("immutable").List(this.props.store.get("videoQueue")),onAutoPlayClick:this.$7,store:this.props.store}),a?null:this.$12(),a?k.jsx(b("LivingRoomShareSheetCrosspostingGroupUpsellList.react"),{dataSource:this.props.dataSources.groupSource,recommendedGroups:this.props.recommendedGroups,userID:this.props.contextConfig.actorID,onPost:this.$4}):c?null:k.jsx(b("LivingRoomShareSheetGroupUpsellList.react"),{dataSource:this.props.dataSources.groupSource,darkBackground:!1,disableButtonOnAction:!1,showLoadingAnimation:!1,recommendedGroups:this.props.recommendedGroups,userID:this.props.contextConfig.actorID,onPost:this.$2})]}),k.jsx(b("LivingRoomCreationDialogAddVideoContainer.react"),{}),k.jsx(b("LivingRoomCreationDialogQueueContainer.react"),{})]})};return c}(k.Component);c.childContextTypes=b("ReactComposerContextTypes");e.exports=a(c)}),null);
__d("LivingRoomCreationDialogContainer.react",["LivingRoomCreationDialog.react","LivingRoomCreationDialogStore","LivingRoomTypeValues","React"],(function(a,b,c,d,e,f){"use strict";var g=b("LivingRoomCreationDialogStore").Container,h=b("LivingRoomTypeValues").AddVideoTabValue,i=b("React");a=function(a){a.videoID;a.videoMetadata;var c=a.videoQueue,d=babelHelpers.objectWithoutPropertiesLoose(a,["videoID","videoMetadata","videoQueue"]);return i.jsx(g,{initialState:{activeAudience:a.defaultAudience,addVideoDialogShown:a.showAddVideoDialogOnOpen,addVideoDialogTab:h.MAIN,groupAudience:a.groupID?{groupId:a.groupID,actorId:a.contextConfig.actorID}:null,isPosting:!1,mainVideoID:a.videoID,pageAudience:a.pageID?{pageId:a.pageID,actorId:a.pageID}:null,videoQueue:c,videoQueueDialogShown:!1,autoPlayEnabled:!0},children:i.jsx(b("LivingRoomCreationDialog.react"),babelHelpers["extends"]({},d))})};e.exports=a}),null);
__d("LivingRoomVideoShareDialogController",["DOM","LivingRoomCreationDialogContainer.react","LivingRoomTypedLogger","React","ReactDOM","ShareDialogAudienceTypes","ShareDialogStatusTypes","destroyOnUnload","qex","uniqueID"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h,i,j;function k(a,c){return new(b("LivingRoomTypedLogger"))().setLivingRoomAction(a).setManualConfigType(c).setComposerSessionID(j).setManualCreationSource(i.creationSource)}function l(a){a=i.defaultSelection=="page"&&i.dataSources.pageSource?b("ShareDialogAudienceTypes").PAGE:i.defaultSelection=="group"||Boolean(b("qex")._("1177237"))?b("ShareDialogAudienceTypes").GROUP:b("ShareDialogAudienceTypes").OWN;b("ReactDOM").render(g.jsx(b("LivingRoomCreationDialogContainer.react"),{attachment:i.attachment,composerConfig:i.composerConfig,contextConfig:{actorID:i.userId,composerID:j,composerType:"living_room",gks:i.gks,targetID:i.userId,showStoriesFirstNux:!1,storiesFirstNuxID:null},creationSource:i.creationSource,creatorName:i.creatorName,dataSources:i.dataSources,defaultPrivacy:i.defaultPrivacy,defaultAudience:a,entrySource:i.entrySource,groupID:i.groupId,logger:function(a){return k(a,null)},pageID:i.pageId,pagePrivacySelector:i.pagePrivacySelector,privacySelector:i.privacySelector,recommendedGroups:i.recommendedGroups,sharerType:i.sharerType,showAddVideoDialogOnOpen:i.showAddVideoDialogOnOpen,videoID:i.videoId,videoMetadata:i.videoMetadata,videoQueue:i.videoQueue}),h)}a={setup:function(a,c){i=a,h=c,j=b("uniqueID")(),l({type:b("ShareDialogStatusTypes").COMPOSING}),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(h),b("DOM").remove(h)})}};e.exports=a}),null);